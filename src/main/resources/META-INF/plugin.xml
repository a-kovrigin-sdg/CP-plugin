<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <id>com.github.akovriginsdg.cpplugin</id>
    <name>CP-HELPER</name>
    <vendor>a-kovrigin-sdg</vendor>
    <description><![CDATA[
    Internal helper plugin for dating-express project.<br>
    Features:
    <ul>
        <li>Navigation for HBS widget/service links</li>
        <li>Navigation for Flux component events</li>
        <li>Localization (L10n) reference support</li>
        <li>RequireJS module navigation</li>
    </ul>
    ]]></description>

    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.modules.xml</depends>
    <depends>JavaScript</depends>

    <resource-bundle>messages.MyBundle</resource-bundle>

    <extensions defaultExtensionNs="com.intellij">
        <fileTemplateGroup implementation="com.github.akovriginsdg.cpplugin.OfferingTemplateFactory"/>
        <psi.referenceContributor language="JavaScript"
                                  implementation="com.github.akovriginsdg.cpplugin.fluxReferenceResolver.FluxComponentReferenceContributor"/>

        <psi.referenceContributor language="JavaScript"
                                  implementation="com.github.akovriginsdg.cpplugin.requireReferenceResolver.RequireModuleReferenceContributor"/>

        <psi.referenceContributor language="XML"
                                  implementation="com.github.akovriginsdg.cpplugin.hbsReferenceResolver.HbsReferenceContributor"/>

        <psi.referenceContributor language="XML"
                                  implementation="com.github.akovriginsdg.cpplugin.l10nReferenceResolver.L10nReferenceContributor"/>
        <psi.referenceContributor language="JavaScript"
                                  implementation="com.github.akovriginsdg.cpplugin.l10nReferenceResolver.L10nReferenceContributor"/>
        <psi.referenceContributor language="TypeScript"
                                  implementation="com.github.akovriginsdg.cpplugin.l10nReferenceResolver.L10nReferenceContributor"/>
        <referencesSearch implementation="com.github.akovriginsdg.cpplugin.usageSearcher.ProjectFileUsageSearcher"/>
    </extensions>
    <actions>
        <group id="CPPlugin.Navigation" text="Fast Navigation" popup="true">
            <action id="com.github.akovriginsdg.cpplugin.actions.offeringTemplateGenerator.CreateOfferingAction"
                    class="com.github.akovriginsdg.cpplugin.actions.offeringTemplateGenerator.CreateOfferingAction"
                    text="Offering"
                    icon="AllIcons.Actions.AddFile"
                    description="Creates a new Offering class inside domain">
                <add-to-group group-id="NewGroup" anchor="first"/>
            </action>

            <action id="com.github.akovriginsdg.cpplugin.CreateMockAction"
                    class="com.github.akovriginsdg.cpplugin.actions.CreateMockAction"
                    text="Create Domain Mock"
                    description="Generates .mock.ts for domain class"
                    icon="AllIcons.Actions.AddFile">
                <add-to-group group-id="ProjectViewPopupMenu" anchor="last"/>
                <add-to-group group-id="EditorPopupMenu" anchor="last"/>
            </action>

            <action id="com.github.akovriginsdg.cpplugin.actions.navigation.BaseJumpUpAction"
                    class="com.github.akovriginsdg.cpplugin.actions.navigation.JumpUpAction"
                    text="Jump Up" description="Jumps up with custom logic">

                <keyboard-shortcut first-keystroke="alt PAGE_UP" keymap="$default"/>

                <keyboard-shortcut first-keystroke="shift alt PAGE_UP" keymap="$default"/>
            </action>

            <action id="com.github.akovriginsdg.cpplugin.actions.navigation.BaseJumpDownAction"
                    class="com.github.akovriginsdg.cpplugin.actions.navigation.JumpDownAction"
                    text="Jump Down" description="Jumps down with custom logic">

                <keyboard-shortcut first-keystroke="alt PAGE_DOWN" keymap="$default"/>

                <keyboard-shortcut first-keystroke="shift alt PAGE_DOWN" keymap="$default"/>
            </action>
        </group>
        <action id="com.github.akovriginsdg.cpplugin.actions.CreateComponentAction"
                class="com.github.akovriginsdg.cpplugin.actions.CreateComponentAction"
                text="React Component Structure"
                description="Creates index.tsx, view.tsx and styles.module.less"
                icon="AllIcons.Nodes.Module"
        >
            <add-to-group group-id="NewGroup" anchor="after" relative-to-action="NewFile"/>
        </action>
        <action id="com.github.akovriginsdg.cpplugin.actions.AddTrackingAction"
                class="com.github.akovriginsdg.cpplugin.actions.AddTrackingAction"
                text="Add Tracking HOC"
                description="Creates tracking.tsx and wraps View in index.tsx"
                icon="AllIcons.General.Add">

            <add-to-group group-id="NewGroup"
                          anchor="after"
                          relative-to-action="com.github.akovriginsdg.cpplugin.actions.CreateComponentAction"/>

            <add-to-group group-id="GenerateGroup" anchor="first"/>
        </action>
        <action id="com.github.akovriginsdg.cpplugin.actions.CreateDomainInjectionAction"
                class="com.github.akovriginsdg.cpplugin.actions.CreateDomainInjectionAction"
                text="Create Domain Injection"
                description="Creates domain bridge files for web and mobile"
                icon="AllIcons.Nodes.Interface">
            <add-to-group group-id="NewGroup" anchor="after" relative-to-action="NewFile"/>
        </action>
    </actions>
</idea-plugin>
