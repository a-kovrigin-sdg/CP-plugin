<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <id>com.github.akovriginsdg.cpplugin</id>
    <name>CP-HELPER</name>
    <vendor>a-kovrigin-sdg</vendor>
    <description><![CDATA[
    Internal helper plugin for dating-express project.<br>
    Features:
    <ul>
        <li>Navigation for HBS widget/service links</li>
        <li>Navigation for Flux component events</li>
        <li>Localization (L10n) reference support</li>
        <li>RequireJS module navigation</li>
    </ul>
    ]]></description>

    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.modules.xml</depends>
    <depends>JavaScript</depends>

    <resource-bundle>messages.MyBundle</resource-bundle>

    <extensions defaultExtensionNs="com.intellij">
        <fileTemplateGroup implementation="com.github.akovriginsdg.cpplugin.OfferingTemplateFactory"/>
        <psi.referenceContributor language="JavaScript"
                                  implementation="com.github.akovriginsdg.cpplugin.fluxReferenceResolver.FluxComponentReferenceContributor"/>

        <psi.referenceContributor language="JavaScript"
                                  implementation="com.github.akovriginsdg.cpplugin.requireReferenceResolver.RequireModuleReferenceContributor"/>

        <psi.referenceContributor language="XML"
                                  implementation="com.github.akovriginsdg.cpplugin.hbsReferenceResolver.HbsReferenceContributor"/>

        <psi.referenceContributor language="XML"
                                  implementation="com.github.akovriginsdg.cpplugin.l10nReferenceResolver.L10nReferenceContributor"/>
        <psi.referenceContributor language="JavaScript"
                                  implementation="com.github.akovriginsdg.cpplugin.l10nReferenceResolver.L10nReferenceContributor"/>
        <psi.referenceContributor language="TypeScript"
                                  implementation="com.github.akovriginsdg.cpplugin.l10nReferenceResolver.L10nReferenceContributor"/>
        <referencesSearch implementation="com.github.akovriginsdg.cpplugin.usageSearcher.ProjectFileUsageSearcher"/>
    </extensions>
    <actions>

        <action id="com.github.akovriginsdg.cpplugin.actions.navigation.JumpUpAction"
                class="com.github.akovriginsdg.cpplugin.actions.navigation.JumpUpAction"
                text="Jump Up" description="Jumps up">
            <keyboard-shortcut first-keystroke="alt PAGE_UP" keymap="$default"/>
            <keyboard-shortcut first-keystroke="shift alt PAGE_UP" keymap="$default"/>
        </action>

        <action id="com.github.akovriginsdg.cpplugin.actions.navigation.JumpDownAction"
                class="com.github.akovriginsdg.cpplugin.actions.navigation.JumpDownAction"
                text="Jump Down" description="Jumps down">
            <keyboard-shortcut first-keystroke="alt PAGE_DOWN" keymap="$default"/>
            <keyboard-shortcut first-keystroke="shift alt PAGE_DOWN" keymap="$default"/>
        </action>

        <action id="com.github.akovriginsdg.cpplugin.CreateOfferingAction"
                class="com.github.akovriginsdg.cpplugin.actions.offeringTemplateGenerator.CreateOfferingAction"
                text="Offering" icon="AllIcons.Actions.AddFile"/>

        <action id="com.github.akovriginsdg.cpplugin.CreateDomainInjectionAction"
                class="com.github.akovriginsdg.cpplugin.actions.CreateDomainInjectionAction"
                text="Domain Injection" icon="AllIcons.Nodes.Interface"/>

        <action id="com.github.akovriginsdg.cpplugin.CreateComponentAction"
                class="com.github.akovriginsdg.cpplugin.actions.CreateComponentAction"
                text="React Component Structure" icon="AllIcons.Nodes.Module"/>

        <action id="com.github.akovriginsdg.cpplugin.AddTrackingAction"
                class="com.github.akovriginsdg.cpplugin.actions.AddTrackingAction"
                text="Tracking HOC" icon="AllIcons.General.Add"/>

        <action id="com.github.akovriginsdg.cpplugin.mockFileHandler.CreateMockFileAction"
                class="com.github.akovriginsdg.cpplugin.actions.mockFileHandler.CreateMockFileAction"
                text="Domain Mock"
                description="Generates .mock.ts"
                icon="AllIcons.Actions.AddFile">
            <add-to-group group-id="EditorPopupMenu" anchor="first"/>
        </action>

        <action id="com.github.akovriginsdg.cpplugin.mockFileHandler.UpdateMockFileAction"
                class="com.github.akovriginsdg.cpplugin.actions.mockFileHandler.UpdateMockFileAction"
                text="Domain Mock"
                description="Generates .mock.ts"
                icon="AllIcons.Actions.AddFile">
            <add-to-group group-id="ProjectViewPopupMenu" anchor="last"/>
            <add-to-group group-id="EditorPopupMenu" anchor="first"/>
        </action>

        <action id="com.github.akovriginsdg.cpplugin.testFileHandler.CreateTestFileAction"
                class="com.github.akovriginsdg.cpplugin.actions.testFileHandler.CreateTestFileAction"
                text="Domain Test"
                description="Generates .test.ts"
                icon="AllIcons.Actions.AddFile">
            <add-to-group group-id="EditorPopupMenu" anchor="first"/>
        </action>

        <action id="com.github.akovriginsdg.cpplugin.testFileHandler.UpdateTestFileAction"
                class="com.github.akovriginsdg.cpplugin.actions.testFileHandler.UpdateTestFileAction"
                text="Domain Test"
                description="Updates imports in .test.ts"
                icon="AllIcons.Actions.AddFile">
            <add-to-group group-id="ProjectViewPopupMenu" anchor="last"/>
            <add-to-group group-id="EditorPopupMenu" anchor="first"/>
        </action>


        <group id="CPPlugin.NavigationGroup" text="Fast Navigation" popup="true">
            <reference ref="com.github.akovriginsdg.cpplugin.actions.navigation.JumpUpAction"/>
            <reference ref="com.github.akovriginsdg.cpplugin.actions.navigation.JumpDownAction"/>
        </group>

        <group id="CPPlugin.NewMenuGroup" text="CP Helper" popup="false">
            <add-to-group group-id="NewGroup" anchor="after" relative-to-action="NewFile"/>
            <reference ref="com.github.akovriginsdg.cpplugin.CreateOfferingAction"/>
            <reference ref="com.github.akovriginsdg.cpplugin.CreateDomainInjectionAction"/>
            <reference ref="com.github.akovriginsdg.cpplugin.CreateComponentAction"/>
            <reference ref="com.github.akovriginsdg.cpplugin.AddTrackingAction"/>
            <reference ref="com.github.akovriginsdg.cpplugin.mockFileHandler.CreateMockFileAction"/>
            <reference ref="com.github.akovriginsdg.cpplugin.testFileHandler.CreateTestFileAction"/>
        </group>

    </actions>
</idea-plugin>
